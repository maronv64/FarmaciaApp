{"version":3,"sources":["./src/app/pages/login/login.page.html","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["module.exports = \"<ion-header no-border>\\r\\n  <ion-toolbar >\\r\\n    <ion-title></ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n  <form #frmLogin=\\\"ngForm\\\" >\\r\\n    \\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n          <ion-col size=\\\"12\\\"><br><br><br><br></ion-col>\\r\\n      </ion-row>\\r\\n      <!-- <ion-row>\\r\\n        <ion-col size=\\\"12\\\" size-lg=\\\"4\\\" size-md=\\\"4\\\" size-sm=\\\"4\\\" size-xs=\\\"4\\\"></ion-col>\\r\\n        <ion-col size=\\\"12\\\" size-lg=\\\"4\\\" size-md=\\\"4\\\" size-sm=\\\"4\\\" size-xs=\\\"4\\\">\\r\\n          <ion-img src=\\\"/assets/img/logocruzazul_logo.png\\\"></ion-img>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\" size-lg=\\\"4\\\" size-md=\\\"4\\\" size-sm=\\\"4\\\" size-xs=\\\"4\\\"></ion-col>\\r\\n      </ion-row> -->\\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n\\r\\n            <ion-list>\\r\\n              \\r\\n              <ion-list-header>\\r\\n                  <ion-col size=\\\"4\\\" size-lg=\\\"5\\\" size-md=\\\"5\\\" size-sm=\\\"5\\\" size-xs=\\\"4\\\"></ion-col>\\r\\n                  <ion-col size=\\\"4\\\" size-lg=\\\"2\\\" size-md=\\\"2\\\" size-sm=\\\"2\\\" size-xs=\\\"4\\\">\\r\\n                    <ion-img src=\\\"/assets/img/logocruzazul_logo.png\\\"></ion-img>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"4\\\" size-lg=\\\"5\\\" size-md=\\\"5\\\" size-sm=\\\"5\\\" size-xs=\\\"4\\\"></ion-col>\\r\\n              </ion-list-header>\\r\\n              <ion-item lines=\\\"none\\\"></ion-item>\\r\\n\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">email:</ion-label>\\r\\n                <ion-input  required name=\\\"email\\\" type=\\\"email\\\" [(ngModel)]=\\\"usuario.email\\\" \\r\\n                            pattern=\\\"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$\\\"></ion-input>\\r\\n              </ion-item>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">password:</ion-label>\\r\\n                <ion-input required name=\\\"password\\\" type=\\\"password\\\" [(ngModel)]=\\\"usuario.password\\\"></ion-input>\\r\\n              </ion-item>\\r\\n          \\r\\n            </ion-list>           \\r\\n\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-text color=\\\"cruz-primary\\\"> \\r\\n            <a routerLink=\\\"/register\\\" > <p>Crea una Cuenta</p> </a>\\r\\n          </ion-text>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n\\r\\n    </ion-grid>\\r\\n\\r\\n  </form>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer no-border>\\r\\n  <ion-toolbar>\\r\\n    <!-- <ion-button (click)=\\\"schedule()\\\">\\r\\n      Click me\\r\\n    </ion-button> -->\\r\\n    <ion-button color=\\\"cruz-primary\\\" (click)=\\\"login()\\\" type=\\\"submit\\\" expand=\\\"full\\\" [disabled]=\\\"frmLogin.invalid\\\">Ingresar</ion-button>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"p {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ptYXJvbnY2NC9Fc2NyaXRvcmlvL0RFU0FSUk9MTE8vRmFybWFjaWFBcHAvc3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtFQUNJLGtCQUFBO0FDSEoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpb24tY29udGVudHtcclxuLy8gICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6cmdiKDU2LCA1MiwgMTA3KTtcclxuLy8gfVxyXG5cclxucHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufSIsInAge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Usuario } from '../../interfaces/usuario/usuario';\r\n// import { LoginService } from '../../services/login/login.service';\r\nimport { Router } from '@angular/router';\r\nimport { UsuarioService } from 'src/app/services/usuario/usuario.service';\r\nimport { Form } from '@angular/forms';\r\nimport { LocalNotifications } from '@ionic-native/local-notifications/ngx';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\n\r\nimport { AppComponent } from \"../../app.component\";\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  constructor( private usuarioService: UsuarioService,\r\n               private router: Router, \r\n               private localNotifications: LocalNotifications,\r\n               private loadingController: LoadingController,\r\n               private appComponent: AppComponent\r\n               ) { }\r\n  \r\n  usuario: Usuario = {};\r\n  // existe:boolean;\r\n  @ViewChild('frmLogin',{static: false}) frmLogin: Form;\r\n  \r\n  ngOnInit() {\r\n    console.log(localStorage.getItem('miCuenta.nome_token'));\r\n    if (localStorage.getItem('miCuenta.nome_token') != null) {\r\n      this.router.navigateByUrl('/home');\r\n    }\r\n    this.schedule();\r\n  }\r\n\r\n  schedule(){\r\n    \r\n// Schedule a single notification\r\n    this.localNotifications.schedule({\r\n      id: 1,\r\n      text: 'Noemy y Dolo',\r\n      // sound: isAndroid? 'file://sound.mp3': 'file://beep.caf',\r\n      data: { secret: \"key\" }\r\n    });\r\n    console.log(\"message\");\r\n    \r\n  }\r\n\r\n  \r\n  async login(){\r\n\r\n    // this.loginService.setlogin(this.usuario.email,this.usuario.password).subscribe(item=>{\r\n    //   localStorage.setItem('miCuenta.nome_token',item.nome_token);\r\n    //   this.router.navigateByUrl('/home');\r\n    // });\r\n    const loading = await this.loadingController.create({\r\n      message: 'Espere un monento...',\r\n      spinner: 'bubbles'\r\n    });\r\n    await loading.present();\r\n\r\n    this.usuarioService.login(this.usuario.email,this.usuario.password).subscribe(item=>{\r\n      try {\r\n        if (item.items.nome_token!=null) {\r\n\r\n          localStorage.setItem('miCuenta.nome_token',item.items.nome_token);\r\n          localStorage.setItem('miCuenta.tipo.cod',item.items.tipo.cod)\r\n  \r\n          loading.dismiss();\r\n          this.router.navigateByUrl('/home');\r\n          console.log('ingresado: '+localStorage.getItem('miCuenta.nome_token')); \r\n          this.appComponent.menu();       \r\n        }\r\n      } catch (error) {\r\n        loading.dismiss();\r\n        this.router.navigateByUrl('/login');\r\n      }\r\n     \r\n    },error=>{\r\n      console.log(error);\r\n      loading.dismiss();\r\n      this.router.navigateByUrl('/login');\r\n    });\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}