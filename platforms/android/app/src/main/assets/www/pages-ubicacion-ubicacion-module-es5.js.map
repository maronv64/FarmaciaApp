{"version":3,"sources":["./src/app/pages/ubicacion/ubicacion.page.html","./src/app/pages/ubicacion/ubicacion.module.ts","./src/app/pages/ubicacion/ubicacion.page.scss","./src/app/pages/ubicacion/ubicacion.page.ts"],"names":[],"mappings":"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","file":"pages-ubicacion-ubicacion-module-es5.js","sourcesContent":["module.exports = \"<ion-header no-border>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Ubicacion</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-back-button icon=\\\"arrow-back\\\" [defaultHref]=\\\"null\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <!-- <ion-searchbar placeholder=\\\"Lugar\\\" inputmode=\\\"email\\\" type=\\\"decimal\\\" (ionChange)=\\\"onSearchChange($event)\\\" [debounce]=\\\"250\\\"></ion-searchbar> -->\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content >\\r\\n    <input type=\\\"hidden\\\" id=\\\"search\\\">\\r\\n  <div id=\\\"map\\\"></div> \\r\\n\\r\\n</ion-content>\\r\\n<!-- \\r\\n<ion-footer no-border>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Footer</ion-title>\\r\\n    <ion-button expand=\\\"full\\\" color=\\\"cruz-primary\\\" (click)=\\\"guardarUBi()\\\">Guardar Ubicaci√≥n</ion-button>\\r\\n  </ion-toolbar>\\r\\n</ion-footer> -->\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UbicacionPage } from './ubicacion.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UbicacionPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [UbicacionPage]\r\n})\r\nexport class UbicacionPageModule {}\r\n","module.exports = \"#map {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2ptYXJvbnY2NC9Fc2NyaXRvcmlvL0RFU0FSUk9MTE8vRmFybWFjaWFBcHAvc3JjL2FwcC9wYWdlcy91YmljYWNpb24vdWJpY2FjaW9uLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvdWJpY2FjaW9uL3ViaWNhY2lvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdWJpY2FjaW9uL3ViaWNhY2lvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFwe1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAvLyBkaXNwbGF5OiBibG9jaztcclxufSIsIiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Geolocation } from \"@ionic-native/geolocation/ngx\";\r\nimport { LoadingController, AlertController } from '@ionic/angular';\r\nimport { UsuarioService } from 'src/app/services/usuario/usuario.service';\r\nimport { Ubicacion } from 'src/app/interfaces/ubicacion/ubicacion';\r\n// import { Platform } from \"@ionic/angular\";\r\n\r\n\r\ndeclare var google;\r\n@Component({\r\n  selector: 'app-ubicacion',\r\n  templateUrl: './ubicacion.page.html',\r\n  styleUrls: ['./ubicacion.page.scss'],\r\n})\r\nexport class UbicacionPage implements OnInit {\r\n\r\n  map=null;\r\n  filtro:string=\"Ecuador\";\r\n\r\n  latitudee:any=\"\"; // variable global para almacenar la nogitud\r\n  longitudee:any=\"\"; // lo mismo de arriba\r\n  timestamp:any=\"\";\r\n  nome_token_user:string;\r\n\r\n  _ubicacion:Ubicacion={};\r\n\r\n  constructor(private geolocation:Geolocation,\r\n              private loadingController:LoadingController,\r\n              private alertController:AlertController,\r\n              private usuarioService:UsuarioService\r\n             ) {\r\n    // this.platform.ready().then(()=>{\r\n    //   var mapOption={\r\n    //     center:{lat:23.2366,lng:79.3822},\r\n    //     zoom: 7\r\n    //   }\r\n\r\n    //   this.map = new google.maps.Map(document.getElementById(\"map\"),mapOption);\r\n\r\n    //   this.getGeoLocation();\r\n\r\n    // });\r\n               }\r\n\r\n  ngOnInit() {\r\n    this.loadMap();\r\n    //this.hola();\r\n  }\r\n\r\n\r\n  async guardarUBi(){\r\n    this.nome_token_user= localStorage.getItem(\"miCuenta.nome_token\");\r\n    this.usuarioService.ubicacion(this.nome_token_user,this._ubicacion).subscribe(\r\n      item=>{\r\n\r\n      },error=>{}\r\n    );\r\n\r\n    const alert = await this.alertController.create({\r\n      header: 'Alerta!',\r\n      message: 'Desea Guardar la ubicacion Actual?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Ok',\r\n          handler: () => {\r\n            console.log('Ubicacion Guardada...');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  \r\n    await alert.present();\r\n    \r\n  }\r\n \r\n  async loadMap(){\r\n    //////////////////////////////////////////////////////////////////////////////////////////\r\n    const loading = await this.loadingController.create({\r\n      message:'espere por favor...',\r\n      spinner:'bubbles',\r\n      duration:3000\r\n    });\r\n    loading.present();\r\n    /////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n    const myLatLog = await this.getLocation();\r\n    console.log(\"coordenadas de inicio\",myLatLog);\r\n    const mapEle :HTMLElement = document.getElementById('map'); // en esta linea construye el mapa en el div\r\n    this.map = new google.maps.Map(mapEle,{\r\n      center: myLatLog, \r\n      zoom:15,\r\n    });\r\n    \r\n    \r\n    // const map = new google.maps.Map(mapEle,{\r\n    //   center: myLatLog,\r\n    //   zoom:12\r\n    // });\r\n\r\n    \r\n    // este controlador de evento se dipara cuando se  el mapa  esta activo, llamo a la funcion addMarker\r\n    google.maps.event.addListenerOnce(this.map,'idle',(data)=>{\r\n  \r\n      \r\n      loading.dismiss();\r\n      //this.hola(myLatLog.lat,myLatLog.lng,google);\r\n       this.addMarker(myLatLog.lat,myLatLog.lng,google);\r\n      // this.addMarker(-0.85,-80.1795618,google);\r\n      //this.getLocationSearch();\r\n      // const marker = new google.maps.Marker({\r\n      //   position: {\r\n      //     lat: myLatLog.lat,\r\n      //     lng: myLatLog.lng\r\n      //   },\r\n      //   zoom:8,\r\n      //   map:this.map,\r\n      //   title:'Mi Ubicacion'\r\n      // });\r\n      \r\n    });\r\n    // este evento se dispara  cuando se le da click al mapa\r\n    google.maps.event.addListener(this.map,'click',(data)=>{\r\n      // console.log(\"otra coordenada\",data.latLng.lat());\r\n      console.log(\"otra coordenada\",data.latLng);\r\n      const x:number = data.latLng.lat();\r\n      const y:number = data.latLng.lng();\r\n      //this.addMarker(x,y,google);\r\n      this.hola(x,y,google);\r\n    });\r\n\r\n    ///////////////////////////////localizacion por descripcion/////////////////////////////////////////////////////////////////////\r\n    // const search :HTMLElement = document.getElementById('search');\r\n    \r\n    // var defaultBounds = new google.maps.LatLngBounds(\r\n    //   new google.maps.LatLng(-33.8902, 151.1759),\r\n    //   new google.maps.LatLng(-33.8474, 151.2631));\r\n    \r\n    // var input = document.getElementById('search');\r\n    // var options = {\r\n    //   bounds: defaultBounds,\r\n    //   types: ['establishment']\r\n    // };\r\n\r\n    // const autocomplete = new google.maps.places.Autocomplete(input, options);\r\n\r\n    /////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  }\r\n\r\n  // esta funcion manda una alerta en caso de querer crear un marker\r\n  async hola(lat:number,lng:number,google){\r\n    const alert = await this.alertController.create({\r\n      header: 'Esta seguro?',\r\n      message: 'que desea agregar esta ubicacion',\r\n      buttons: [\r\n        {\r\n          text:'Cancelar',\r\n          role:'cancel',\r\n          cssClass:'secondary',\r\n          handler: () => {\r\n            //===============================================\r\n            console.log('confirmar salida');\r\n            //===============================================\r\n          }\r\n        },\r\n        {\r\n          text:'Ok',\r\n          handler: ()=>{\r\n            // =================ok===========================\r\n            this.addMarker(lat,lng,google);\r\n            //===============================================\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  \r\n  /////////////////////////////////////Construir el marker//////////////////////////////////////////////////////////////\r\n  // se envia las cordenadas para construir el marker y \r\n  //tambien la variable google para hacer modificaciones al mapa..\r\n  private markers:any[]=[];\r\n  private addMarker(lat:number,lng:number,google){\r\n\r\n    const hooo:any[]=['1','2','3'];\r\n\r\n    console.log(lat,lng);\r\n    \r\n\r\n    const marker = new google.maps.Marker({\r\n      position: {\r\n        lat: lat,\r\n        lng: lng\r\n      },\r\n      zoom:8,\r\n      map:this.map,\r\n      title:'Mi Ubicacion',\r\n      animation:google.maps.Animation.BOUNCE // animacion\r\n    });\r\n\r\n    this._ubicacion.latitud=lat;\r\n    this._ubicacion.longitud=lng;\r\n    console.log(this._ubicacion);\r\n    \r\n    //console.log(marker);\r\n    \r\n        \r\n    this.markers.forEach((item,a) => {\r\n      item.setMap(null);\r\n    });\r\n\r\n    this.markers.push(marker);\r\n   \r\n\r\n    //Zoom a la zona del marker seleccionado\r\n    google.maps.event.addListener(marker,'click',function() {\r\n      //marker.setMap(null);\r\n      this.map.setZoom(17);\r\n      this.map.setCenter(marker.getPosition());\r\n    }); \r\n\r\n    google.maps.event.addListener(marker,'dblclick',function() {\r\n      marker.setMap(null);\r\n    }); \r\n    \r\n\r\n    // marker.on(google.maps.event.MARKER_CLICK).subscribe(() => {\r\n    //   alert('clicked');\r\n    // });\r\n  }\r\n//////////////////////////////buscar la ubicacion actual///////////////////////////////////////////////////////////////\r\n  private async getLocation(){\r\n    \r\n    const rta = await this.geolocation.getCurrentPosition();\r\n    return  {\r\n      lat: rta.coords.latitude,\r\n      lng: rta.coords.longitude\r\n    };\r\n  }\r\n\r\n  latitude:number=null;\r\n  longitude:number=null;\r\n\r\n  private async getLocationSearch(){\r\n    const watch = await this.geolocation.watchPosition();\r\n    watch.subscribe((data) => {\r\n      console.log(data);\r\n      this.latitude =  data.coords.latitude,\r\n      this.longitude = data.coords.longitude\r\n      //this.addMarker(data.coords.latitude,data.coords.longitude);\r\n    });\r\n\r\n    return {\r\n      lat: this.latitude,\r\n      lng: this.longitude\r\n    }\r\n\r\n  }\r\n  \r\n  onSearchChange(event:any){\r\n\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}