{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{\"/+ga\":function(l,n,u){\"use strict\";u.r(n);var o=u(\"8Y7J\"),e=u(\"mrSG\"),t=u(\"IheW\"),r=u(\"cxbk\");let i=(()=>{class l{constructor(l){this.http=l,this.apiUrl=r.a,this._headers=new t.g({\"Content-Type\":\"application/json\"}),this._params=new t.h}filtro(l,n){let u=new t.h({fromObject:{value:n}});return this.http.get(`${this.apiUrl}ventas_mi_historial_pediodos/${l}/`,{headers:this._headers,params:u})}delete(l,n){let u=new t.h({fromObject:{nome_token:n.nome_token}});return this.http.delete(`${this.apiUrl}ventas_delete/${l}/`,{headers:this._headers,params:u})}finalizar_venta(l,n){return new t.h({fromObject:{nome_token:n.nome_token}}),this.http.put(`${this.apiUrl}vemtas_finalizar_venta/${l}/`,n,{headers:this._headers})}}return l.ngInjectableDef=o.Pb({factory:function(){return new l(o.Qb(t.c))},token:l,providedIn:\"root\"}),l})();var a=u(\"ZZ/e\");class s{constructor(l,n,u){this.modalController=l,this.comprasService=n,this.alertController=u,this.item={},this.nome_token_user=\"\"}ngOnInit(){}salir(){return e.b(this,void 0,void 0,function*(){this.modalController.dismiss(0)})}generarFactura(l){return e.b(this,void 0,void 0,function*(){this.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\");const n=yield this.alertController.create({header:\"Mensaje\",message:\"Al generar la factura se procedera a finalizar la entrega del pedido, est\\xe1 de acuerdo con esto?\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:()=>{console.log(\"Confirm Cancel: blah\"),this.modalController.dismiss(0)}},{text:\"Ok\",handler:()=>{console.log(\"Confirm Okay\"),this.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),this.comprasService.finalizar_venta(this.nome_token_user,l).subscribe(l=>{this.modalController.dismiss(1)},l=>{this.modalController.dismiss(0)})}}]});yield n.present()})}}class b{constructor(l,n,u,o,e){this.comprasService=l,this.modalController=n,this.alertController=u,this.router=o,this.platform=e,this.items=[],this.textoBuscar=\"001\"}ngOnInit(){this.filtro(\"\"),this.platform.ready().then(()=>{this.segmentoCompras.value=\"pedidos\"})}ionViewWillEnter(){console.log(\"en la pagina\")}filtro(l){return e.b(this,void 0,void 0,function*(){this.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),this.comprasService.filtro(this.nome_token_user,l).subscribe(l=>{this.items=l.items},l=>{console.log(l)})})}segmentChanged(l){\"pedidos\"===l.target.value?this.textoBuscar=\"001\":\"en_proceso\"===l.target.value?this.textoBuscar=\"002\":\"finalizados\"===l.target.value&&(this.textoBuscar=\"003\"),console.log(l.target.value)}verItem(l){return e.b(this,void 0,void 0,function*(){console.log(l);const n=yield this.modalController.create({component:s,componentProps:{item:l}});this.ListaCompras.closeSlidingItems(),yield n.present();const{data:u}=yield n.onDidDismiss();console.log(u),0==u||1==u&&this.filtro(\"\")})}eliminar(l){return e.b(this,void 0,void 0,function*(){yield this.alertController.create({header:\"Esta seguro?\",message:\"que desea eliminar\",buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:()=>{console.log(\"confirmar salida\")}},{text:\"Ok\",handler:()=>{this.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),this.comprasService.delete(this.nome_token_user,l).subscribe(l=>{this.filtro(\"\")},l=>{this.ListaCompras.closeSlidingItems()}),console.log(\"eliminacion confirmada\")}}]})})}}class c{}var m=u(\"pMnS\"),h=u(\"oBZk\"),d=u(\"PuWq\"),p=u(\"SVse\"),k=u(\"s7LF\"),g=u(\"iInd\"),x=o.pb({encapsulation:0,styles:[[\"\"]],data:{}});function f(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,16,\"ion-item-sliding\",[],null,null,null,h.cb,h.t)),o.qb(1,49152,null,0,a.M,[o.h,o.k,o.x],null,null),(l()(),o.rb(2,0,null,0,8,\"ion-item\",[],null,null,null,h.db,h.q)),o.qb(3,49152,null,0,a.H,[o.h,o.k,o.x],null,null),(l()(),o.rb(4,0,null,0,2,\"ion-text\",[[\"color\",\"cruz-primary\"]],null,null,null,h.rb,h.H)),o.qb(5,49152,null,0,a.xb,[o.h,o.k,o.x],{color:[0,\"color\"]},null),(l()(),o.Kb(6,0,[\" \",\" \"])),(l()(),o.rb(7,0,null,0,3,\"ion-text\",[[\"color\",\"cruz-tertiary\"],[\"slot\",\"end\"]],null,null,null,h.rb,h.H)),o.qb(8,49152,null,0,a.xb,[o.h,o.k,o.x],{color:[0,\"color\"]},null),(l()(),o.Kb(9,0,[\" \",\" \"])),o.Gb(10,4),(l()(),o.rb(11,0,null,0,5,\"ion-item-options\",[[\"side\",\"start\"]],null,null,null,h.bb,h.s)),o.qb(12,49152,null,0,a.L,[o.h,o.k,o.x],{side:[0,\"side\"]},null),(l()(),o.rb(13,0,null,0,3,\"ion-item-option\",[[\"color\",\"cruz-primary\"]],null,[[null,\"click\"]],function(l,n,u){var o=!0;return\"click\"===n&&(o=!1!==l.component.verItem(l.context.$implicit)&&o),o},h.ab,h.r)),o.qb(14,49152,null,0,a.K,[o.h,o.k,o.x],{color:[0,\"color\"]},null),(l()(),o.rb(15,0,null,0,1,\"ion-icon\",[[\"name\",\"clipboard\"],[\"slot\",\"icon-only\"]],null,null,null,h.X,h.n)),o.qb(16,49152,null,0,a.C,[o.h,o.k,o.x],{name:[0,\"name\"]},null)],function(l,n){l(n,5,0,\"cruz-primary\"),l(n,8,0,\"cruz-tertiary\"),l(n,12,0,\"start\"),l(n,14,0,\"cruz-primary\"),l(n,16,0,\"clipboard\")},function(l,n){l(n,6,0,n.context.$implicit.fecha);var u=o.Lb(n,9,0,l(n,10,0,o.Db(n.parent,1),n.context.$implicit.total,\"USD\",\"symbol\",\"2.2-2\"));l(n,9,0,u)})}function v(l){return o.Mb(0,[o.Fb(0,d.a,[]),o.Fb(0,p.c,[o.s]),o.Ib(671088640,1,{ListaCompras:0}),o.Ib(671088640,2,{segmentoCompras:0}),(l()(),o.rb(4,0,null,null,10,\"ion-header\",[[\"no-border\",\"\"]],null,null,null,h.W,h.m)),o.qb(5,49152,null,0,a.B,[o.h,o.k,o.x],null,null),(l()(),o.rb(6,0,null,0,8,\"ion-toolbar\",[[\"color\",\"cruz-primary\"]],null,null,null,h.tb,h.J)),o.qb(7,49152,null,0,a.Cb,[o.h,o.k,o.x],{color:[0,\"color\"]},null),(l()(),o.rb(8,0,null,0,3,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,h.O,h.e)),o.qb(9,49152,null,0,a.l,[o.h,o.k,o.x],null,null),(l()(),o.rb(10,0,null,0,1,\"ion-menu-button\",[],null,null,null,h.hb,h.y)),o.qb(11,49152,null,0,a.R,[o.h,o.k,o.x],null,null),(l()(),o.rb(12,0,null,0,2,\"ion-title\",[],null,null,null,h.sb,h.I)),o.qb(13,49152,null,0,a.Ab,[o.h,o.k,o.x],null,null),(l()(),o.Kb(-1,0,[\" Mis Compras \"])),(l()(),o.rb(15,0,null,null,22,\"ion-header\",[],null,null,null,h.W,h.m)),o.qb(16,49152,null,0,a.B,[o.h,o.k,o.x],null,null),(l()(),o.rb(17,0,null,0,20,\"ion-toolbar\",[[\"color\",\"cruz-primary\"]],null,null,null,h.tb,h.J)),o.qb(18,49152,null,0,a.Cb,[o.h,o.k,o.x],{color:[0,\"color\"]},null),(l()(),o.rb(19,0,null,0,18,\"ion-segment\",[],null,[[null,\"ionChange\"],[null,\"ionBlur\"]],function(l,n,u){var e=!0,t=l.component;return\"ionBlur\"===n&&(e=!1!==o.Db(l,22)._handleBlurEvent(u.target)&&e),\"ionChange\"===n&&(e=!1!==o.Db(l,22)._handleChangeEvent(u.target)&&e),\"ionChange\"===n&&(e=!1!==t.segmentChanged(u)&&e),e},h.pb,h.E)),o.Hb(5120,null,k.i,function(l){return[l]},[a.Nb]),o.qb(21,49152,[[2,4],[\"segmentoCompras\",4]],0,a.lb,[o.h,o.k,o.x],null,null),o.qb(22,16384,null,0,a.Nb,[o.k],null,null),(l()(),o.rb(23,0,null,0,4,\"ion-segment-button\",[[\"class\",\"ion-no-padding\"],[\"value\",\"pedidos\"]],null,null,null,h.ob,h.F)),o.qb(24,49152,null,0,a.mb,[o.h,o.k,o.x],{value:[0,\"value\"]},null),(l()(),o.rb(25,0,null,0,2,\"ion-label\",[],null,null,null,h.eb,h.u)),o.qb(26,49152,null,0,a.N,[o.h,o.k,o.x],null,null),(l()(),o.Kb(-1,0,[\"Pendientes\"])),(l()(),o.rb(28,0,null,0,4,\"ion-segment-button\",[[\"class\",\"ion-no-padding\"],[\"value\",\"en_proceso\"]],null,null,null,h.ob,h.F)),o.qb(29,49152,null,0,a.mb,[o.h,o.k,o.x],{value:[0,\"value\"]},null),(l()(),o.rb(30,0,null,0,2,\"ion-label\",[],null,null,null,h.eb,h.u)),o.qb(31,49152,null,0,a.N,[o.h,o.k,o.x],null,null),(l()(),o.Kb(-1,0,[\"En Proceso\"])),(l()(),o.rb(33,0,null,0,4,\"ion-segment-button\",[[\"class\",\"ion-no-padding\"],[\"value\",\"finalizados\"]],null,null,null,h.ob,h.F)),o.qb(34,49152,null,0,a.mb,[o.h,o.k,o.x],{value:[0,\"value\"]},null),(l()(),o.rb(35,0,null,0,2,\"ion-label\",[],null,null,null,h.eb,h.u)),o.qb(36,49152,null,0,a.N,[o.h,o.k,o.x],null,null),(l()(),o.Kb(-1,0,[\"Finalizadas\"])),(l()(),o.rb(38,0,null,null,12,\"ion-content\",[],null,null,null,h.T,h.j)),o.qb(39,49152,null,0,a.u,[o.h,o.k,o.x],null,null),(l()(),o.rb(40,0,null,0,10,\"ion-grid\",[],null,null,null,h.V,h.l)),o.qb(41,49152,null,0,a.A,[o.h,o.k,o.x],null,null),(l()(),o.rb(42,0,null,0,8,\"ion-row\",[],null,null,null,h.mb,h.C)),o.qb(43,49152,null,0,a.jb,[o.h,o.k,o.x],null,null),(l()(),o.rb(44,0,null,0,6,\"ion-col\",[],null,null,null,h.S,h.i)),o.qb(45,49152,null,0,a.t,[o.h,o.k,o.x],null,null),(l()(),o.rb(46,0,null,0,4,\"ion-list\",[],null,null,null,h.gb,h.v)),o.qb(47,49152,[[1,4],[\"ListaCompras\",4]],0,a.O,[o.h,o.k,o.x],null,null),(l()(),o.gb(16777216,null,0,2,null,f)),o.qb(49,278528,null,0,p.i,[o.M,o.J,o.q],{ngForOf:[0,\"ngForOf\"]},null),o.Gb(50,4)],function(l,n){var u=n.component;l(n,7,0,\"cruz-primary\"),l(n,18,0,\"cruz-primary\"),l(n,24,0,\"pedidos\"),l(n,29,0,\"en_proceso\"),l(n,34,0,\"finalizados\");var e=o.Lb(n,49,0,l(n,50,0,o.Db(n,0),u.items,u.textoBuscar,\"estado\",\"cod\"));l(n,49,0,e)},null)}function q(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,1,\"app-miscompras\",[],null,null,null,v,x)),o.qb(1,114688,null,0,b,[i,a.Ib,a.a,g.m,a.Kb],null,null)],function(l,n){l(n,1,0)},null)}var C=o.nb(\"app-miscompras\",b,q,{},{},[]),_=o.pb({encapsulation:0,styles:[[\".hola[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}\"]],data:{}});function y(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,13,\"ion-item\",[],null,null,null,h.db,h.q)),o.qb(1,49152,null,0,a.H,[o.h,o.k,o.x],null,null),(l()(),o.rb(2,0,null,0,2,\"ion-col\",[[\"class\",\"ion-text-lowercase\"],[\"size\",\"8\"]],null,null,null,h.S,h.i)),o.qb(3,49152,null,0,a.t,[o.h,o.k,o.x],{size:[0,\"size\"]},null),(l()(),o.Kb(4,0,[\" \",\"\"])),(l()(),o.rb(5,0,null,0,2,\"ion-col\",[[\"size\",\"1\"]],null,null,null,h.S,h.i)),o.qb(6,49152,null,0,a.t,[o.h,o.k,o.x],{size:[0,\"size\"]},null),(l()(),o.Kb(7,0,[\" \",\"\"])),(l()(),o.rb(8,0,null,0,5,\"ion-col\",[[\"size\",\"3\"]],null,null,null,h.S,h.i)),o.qb(9,49152,null,0,a.t,[o.h,o.k,o.x],{size:[0,\"size\"]},null),(l()(),o.rb(10,0,null,0,3,\"ion-text\",[[\"color\",\"cruz-tertiary\"]],null,null,null,h.rb,h.H)),o.qb(11,49152,null,0,a.xb,[o.h,o.k,o.x],{color:[0,\"color\"]},null),(l()(),o.Kb(12,0,[\" \",\" \"])),o.Gb(13,4)],function(l,n){l(n,3,0,\"8\"),l(n,6,0,\"1\"),l(n,9,0,\"3\"),l(n,11,0,\"cruz-tertiary\")},function(l,n){l(n,4,0,n.context.$implicit.producto.descripcion),l(n,7,0,n.context.$implicit.cantidad);var u=o.Lb(n,12,0,l(n,13,0,o.Db(n.parent,0),n.context.$implicit.subtotal,\"USD\",\"symbol\",\"2.2-2\"));l(n,12,0,u)})}function z(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,6,\"ion-footer\",[[\"no-border\",\"\"]],null,null,null,h.U,h.k)),o.qb(1,49152,null,0,a.z,[o.h,o.k,o.x],null,null),(l()(),o.rb(2,0,null,0,4,\"ion-toolbar\",[],null,null,null,h.tb,h.J)),o.qb(3,49152,null,0,a.Cb,[o.h,o.k,o.x],null,null),(l()(),o.rb(4,0,null,0,2,\"ion-button\",[[\"color\",\"cruz-primary\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],function(l,n,u){var o=!0,e=l.component;return\"click\"===n&&(o=!1!==e.generarFactura(e.item)&&o),o},h.N,h.d)),o.qb(5,49152,null,0,a.k,[o.h,o.k,o.x],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),o.Kb(-1,0,[\"Finalizar\"]))],function(l,n){l(n,5,0,\"cruz-primary\",\"full\")},null)}function B(l){return o.Mb(0,[o.Fb(0,p.c,[o.s]),(l()(),o.rb(1,0,null,null,12,\"ion-header\",[[\"no-border\",\"\"]],null,null,null,h.W,h.m)),o.qb(2,49152,null,0,a.B,[o.h,o.k,o.x],null,null),(l()(),o.rb(3,0,null,0,10,\"ion-toolbar\",[],null,null,null,h.tb,h.J)),o.qb(4,49152,null,0,a.Cb,[o.h,o.k,o.x],null,null),(l()(),o.rb(5,0,null,0,2,\"ion-title\",[],null,null,null,h.sb,h.I)),o.qb(6,49152,null,0,a.Ab,[o.h,o.k,o.x],null,null),(l()(),o.Kb(-1,0,[\"Detalle de la Compra\"])),(l()(),o.rb(8,0,null,0,5,\"ion-buttons\",[[\"slot\",\"end\"]],null,null,null,h.O,h.e)),o.qb(9,49152,null,0,a.l,[o.h,o.k,o.x],null,null),(l()(),o.rb(10,0,null,0,3,\"ion-button\",[],null,[[null,\"click\"]],function(l,n,u){var o=!0;return\"click\"===n&&(o=!1!==l.component.salir()&&o),o},h.N,h.d)),o.qb(11,49152,null,0,a.k,[o.h,o.k,o.x],null,null),(l()(),o.rb(12,0,null,0,1,\"ion-icon\",[[\"name\",\"close\"],[\"slot\",\"icon-only\"]],null,null,null,h.X,h.n)),o.qb(13,49152,null,0,a.C,[o.h,o.k,o.x],{name:[0,\"name\"]},null),(l()(),o.rb(14,0,null,null,11,\"ion-content\",[],null,null,null,h.T,h.j)),o.qb(15,49152,null,0,a.u,[o.h,o.k,o.x],null,null),(l()(),o.rb(16,0,null,0,9,\"ion-grid\",[[\"fixed\",\"\"]],null,null,null,h.V,h.l)),o.qb(17,49152,null,0,a.A,[o.h,o.k,o.x],{fixed:[0,\"fixed\"]},null),(l()(),o.rb(18,0,null,0,7,\"ion-row\",[],null,null,null,h.mb,h.C)),o.qb(19,49152,null,0,a.jb,[o.h,o.k,o.x],null,null),(l()(),o.rb(20,0,null,0,5,\"ion-col\",[],null,null,null,h.S,h.i)),o.qb(21,49152,null,0,a.t,[o.h,o.k,o.x],null,null),(l()(),o.rb(22,0,null,0,3,\"ion-list\",[],null,null,null,h.gb,h.v)),o.qb(23,49152,null,0,a.O,[o.h,o.k,o.x],null,null),(l()(),o.gb(16777216,null,0,1,null,y)),o.qb(25,278528,null,0,p.i,[o.M,o.J,o.q],{ngForOf:[0,\"ngForOf\"]},null),(l()(),o.gb(16777216,null,null,1,null,z)),o.qb(27,16384,null,0,p.j,[o.M,o.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var u=n.component;l(n,13,0,\"close\"),l(n,17,0,\"\"),l(n,25,0,u.item.detalle),l(n,27,0,\"002\"===u.item.estado.cod)},null)}function I(l){return o.Mb(0,[(l()(),o.rb(0,0,null,null,1,\"app-miscompras-item-modal\",[],null,null,null,B,_)),o.qb(1,114688,null,0,s,[a.Ib,i,a.a],null,null)],function(l,n){l(n,1,0)},null)}var S=o.nb(\"app-miscompras-item-modal\",s,I,{item:\"item\"},{},[]);class M{}var O=u(\"iTUp\");u.d(n,\"MiscomprasPageModuleNgFactory\",function(){return w});var w=o.ob(c,[],function(l){return o.Ab([o.Bb(512,o.j,o.Z,[[8,[m.a,C,S]],[3,o.j],o.v]),o.Bb(4608,p.l,p.k,[o.s,[2,p.r]]),o.Bb(4608,k.t,k.t,[]),o.Bb(4608,a.b,a.b,[o.x,o.g]),o.Bb(4608,a.Ib,a.Ib,[a.b,o.j,o.p]),o.Bb(4608,a.Lb,a.Lb,[a.b,o.j,o.p]),o.Bb(1073742336,p.b,p.b,[]),o.Bb(1073742336,k.s,k.s,[]),o.Bb(1073742336,k.g,k.g,[]),o.Bb(1073742336,a.Eb,a.Eb,[]),o.Bb(1073742336,g.q,g.q,[[2,g.v],[2,g.m]]),o.Bb(1073742336,M,M,[]),o.Bb(1073742336,O.a,O.a,[]),o.Bb(1073742336,c,c,[]),o.Bb(1024,g.k,function(){return[[{path:\"\",component:b}]]},[])])})}}]);","extractedComments":[]}