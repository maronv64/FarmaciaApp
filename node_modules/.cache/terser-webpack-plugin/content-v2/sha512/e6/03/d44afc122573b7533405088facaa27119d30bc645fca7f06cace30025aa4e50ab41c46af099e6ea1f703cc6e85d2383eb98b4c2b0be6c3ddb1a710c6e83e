{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{\"/+ga\":function(l,n,t){\"use strict\";t.r(n);var u=t(\"CcnG\"),o=t(\"mrSG\"),e=t(\"t/Na\"),i=t(\"cxbk\"),r=function(){function l(l){this.http=l,this.apiUrl=i.a,this._headers=new e.g({\"Content-Type\":\"application/json\"}),this._params=new e.h}return l.prototype.filtro=function(l,n){var t=new e.h({fromObject:{value:n}});return this.http.get(this.apiUrl+\"ventas_mi_historial_pediodos/\"+l+\"/\",{headers:this._headers,params:t})},l.prototype.delete=function(l,n){var t=new e.h({fromObject:{nome_token:n.nome_token}});return this.http.delete(this.apiUrl+\"ventas_delete/\"+l+\"/\",{headers:this._headers,params:t})},l.prototype.finalizar_venta=function(l,n){return new e.h({fromObject:{nome_token:n.nome_token}}),this.http.put(this.apiUrl+\"vemtas_finalizar_venta/\"+l+\"/\",n,{headers:this._headers})},l.ngInjectableDef=u.Rb({factory:function(){return new l(u.Sb(e.c))},token:l,providedIn:\"root\"}),l}(),s=t(\"ZZ/e\"),a=function(){function l(l,n,t){this.modalController=l,this.comprasService=n,this.alertController=t,this.item={},this.nome_token_user=\"\"}return l.prototype.ngOnInit=function(){},l.prototype.salir=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(l){return this.modalController.dismiss(0),[2]})})},l.prototype.generarFactura=function(l){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){switch(t.label){case 0:return this.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),[4,this.alertController.create({header:\"Mensaje\",message:\"Al generar la factura se procedera a finalizar la entrega del pedido, est\\xe1 de acuerdo con esto?\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"Confirm Cancel: blah\"),n.modalController.dismiss(0)}},{text:\"Ok\",handler:function(){console.log(\"Confirm Okay\"),n.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),n.comprasService.finalizar_venta(n.nome_token_user,l).subscribe(function(l){n.modalController.dismiss(1)},function(l){n.modalController.dismiss(0)})}}]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},l}(),b=function(){function l(l,n,t,u,o){this.comprasService=l,this.modalController=n,this.alertController=t,this.router=u,this.platform=o,this.items=[],this.textoBuscar=\"001\"}return l.prototype.ngOnInit=function(){var l=this;this.filtro(\"\"),this.platform.ready().then(function(){l.segmentoCompras.value=\"pedidos\"})},l.prototype.ionViewWillEnter=function(){console.log(\"en la pagina\")},l.prototype.filtro=function(l){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){return this.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),this.comprasService.filtro(this.nome_token_user,l).subscribe(function(l){n.items=l.items},function(l){console.log(l)}),[2]})})},l.prototype.segmentChanged=function(l){\"pedidos\"===l.target.value?this.textoBuscar=\"001\":\"en_proceso\"===l.target.value?this.textoBuscar=\"002\":\"finalizados\"===l.target.value&&(this.textoBuscar=\"003\"),console.log(l.target.value)},l.prototype.verItem=function(l){return o.b(this,void 0,void 0,function(){var n,t;return o.e(this,function(u){switch(u.label){case 0:return console.log(l),[4,this.modalController.create({component:a,componentProps:{item:l}})];case 1:return n=u.sent(),this.ListaCompras.closeSlidingItems(),[4,n.present()];case 2:return u.sent(),[4,n.onDidDismiss()];case 3:return t=u.sent().data,console.log(t),0==t||1==t&&this.filtro(\"\"),[2]}})})},l.prototype.eliminar=function(l){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({header:\"Esta seguro?\",message:\"que desea eliminar\",buttons:[{text:\"Cancelar\",role:\"cancel\",cssClass:\"secondary\",handler:function(){console.log(\"confirmar salida\")}},{text:\"Ok\",handler:function(){n.nome_token_user=localStorage.getItem(\"miCuenta.nome_token\"),n.comprasService.delete(n.nome_token_user,l).subscribe(function(l){n.filtro(\"\")},function(l){n.ListaCompras.closeSlidingItems()}),console.log(\"eliminacion confirmada\")}}]})];case 1:return t.sent(),[2]}})})},l}(),c=function(){return function(){}}(),m=t(\"pMnS\"),h=t(\"oBZk\"),p=t(\"PuWq\"),d=t(\"Ip0R\"),f=t(\"gIcY\"),k=t(\"ZYCi\"),z=u.rb({encapsulation:0,styles:[[\"\"]],data:{}});function g(l){return u.Ob(0,[(l()(),u.tb(0,0,null,null,16,\"ion-item-sliding\",[],null,null,null,h.cb,h.t)),u.sb(1,49152,null,0,s.M,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,8,\"ion-item\",[],null,null,null,h.db,h.q)),u.sb(3,49152,null,0,s.H,[u.h,u.k,u.z],null,null),(l()(),u.tb(4,0,null,0,2,\"ion-text\",[[\"color\",\"cruz-primary\"]],null,null,null,h.rb,h.H)),u.sb(5,49152,null,0,s.xb,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(l()(),u.Mb(6,0,[\" \",\" \"])),(l()(),u.tb(7,0,null,0,3,\"ion-text\",[[\"color\",\"cruz-tertiary\"],[\"slot\",\"end\"]],null,null,null,h.rb,h.H)),u.sb(8,49152,null,0,s.xb,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(l()(),u.Mb(9,0,[\" \",\" \"])),u.Ib(10,4),(l()(),u.tb(11,0,null,0,5,\"ion-item-options\",[[\"side\",\"start\"]],null,null,null,h.bb,h.s)),u.sb(12,49152,null,0,s.L,[u.h,u.k,u.z],{side:[0,\"side\"]},null),(l()(),u.tb(13,0,null,0,3,\"ion-item-option\",[[\"color\",\"cruz-primary\"]],null,[[null,\"click\"]],function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.verItem(l.context.$implicit)&&u),u},h.ab,h.r)),u.sb(14,49152,null,0,s.K,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(l()(),u.tb(15,0,null,0,1,\"ion-icon\",[[\"name\",\"clipboard\"],[\"slot\",\"icon-only\"]],null,null,null,h.X,h.n)),u.sb(16,49152,null,0,s.C,[u.h,u.k,u.z],{name:[0,\"name\"]},null)],function(l,n){l(n,5,0,\"cruz-primary\"),l(n,8,0,\"cruz-tertiary\"),l(n,12,0,\"start\"),l(n,14,0,\"cruz-primary\"),l(n,16,0,\"clipboard\")},function(l,n){l(n,6,0,n.context.$implicit.fecha);var t=u.Nb(n,9,0,l(n,10,0,u.Fb(n.parent,1),n.context.$implicit.total,\"USD\",\"symbol\",\"2.2-2\"));l(n,9,0,t)})}function v(l){return u.Ob(0,[u.Hb(0,p.a,[]),u.Hb(0,d.c,[u.u]),u.Kb(671088640,1,{ListaCompras:0}),u.Kb(671088640,2,{segmentoCompras:0}),(l()(),u.tb(4,0,null,null,10,\"ion-header\",[[\"no-border\",\"\"]],null,null,null,h.W,h.m)),u.sb(5,49152,null,0,s.B,[u.h,u.k,u.z],null,null),(l()(),u.tb(6,0,null,0,8,\"ion-toolbar\",[[\"color\",\"cruz-primary\"]],null,null,null,h.tb,h.J)),u.sb(7,49152,null,0,s.Cb,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(l()(),u.tb(8,0,null,0,3,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,h.O,h.e)),u.sb(9,49152,null,0,s.l,[u.h,u.k,u.z],null,null),(l()(),u.tb(10,0,null,0,1,\"ion-menu-button\",[],null,null,null,h.hb,h.y)),u.sb(11,49152,null,0,s.R,[u.h,u.k,u.z],null,null),(l()(),u.tb(12,0,null,0,2,\"ion-title\",[],null,null,null,h.sb,h.I)),u.sb(13,49152,null,0,s.Ab,[u.h,u.k,u.z],null,null),(l()(),u.Mb(-1,0,[\" Mis Compras \"])),(l()(),u.tb(15,0,null,null,22,\"ion-header\",[],null,null,null,h.W,h.m)),u.sb(16,49152,null,0,s.B,[u.h,u.k,u.z],null,null),(l()(),u.tb(17,0,null,0,20,\"ion-toolbar\",[[\"color\",\"cruz-primary\"]],null,null,null,h.tb,h.J)),u.sb(18,49152,null,0,s.Cb,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(l()(),u.tb(19,0,null,0,18,\"ion-segment\",[],null,[[null,\"ionChange\"],[null,\"ionBlur\"]],function(l,n,t){var o=!0,e=l.component;return\"ionBlur\"===n&&(o=!1!==u.Fb(l,22)._handleBlurEvent(t.target)&&o),\"ionChange\"===n&&(o=!1!==u.Fb(l,22)._handleChangeEvent(t.target)&&o),\"ionChange\"===n&&(o=!1!==e.segmentChanged(t)&&o),o},h.pb,h.E)),u.Jb(5120,null,f.i,function(l){return[l]},[s.Nb]),u.sb(21,49152,[[2,4],[\"segmentoCompras\",4]],0,s.lb,[u.h,u.k,u.z],null,null),u.sb(22,16384,null,0,s.Nb,[u.k],null,null),(l()(),u.tb(23,0,null,0,4,\"ion-segment-button\",[[\"class\",\"ion-no-padding\"],[\"value\",\"pedidos\"]],null,null,null,h.ob,h.F)),u.sb(24,49152,null,0,s.mb,[u.h,u.k,u.z],{value:[0,\"value\"]},null),(l()(),u.tb(25,0,null,0,2,\"ion-label\",[],null,null,null,h.eb,h.u)),u.sb(26,49152,null,0,s.N,[u.h,u.k,u.z],null,null),(l()(),u.Mb(-1,0,[\"Pendientes\"])),(l()(),u.tb(28,0,null,0,4,\"ion-segment-button\",[[\"class\",\"ion-no-padding\"],[\"value\",\"en_proceso\"]],null,null,null,h.ob,h.F)),u.sb(29,49152,null,0,s.mb,[u.h,u.k,u.z],{value:[0,\"value\"]},null),(l()(),u.tb(30,0,null,0,2,\"ion-label\",[],null,null,null,h.eb,h.u)),u.sb(31,49152,null,0,s.N,[u.h,u.k,u.z],null,null),(l()(),u.Mb(-1,0,[\"En Proceso\"])),(l()(),u.tb(33,0,null,0,4,\"ion-segment-button\",[[\"class\",\"ion-no-padding\"],[\"value\",\"finalizados\"]],null,null,null,h.ob,h.F)),u.sb(34,49152,null,0,s.mb,[u.h,u.k,u.z],{value:[0,\"value\"]},null),(l()(),u.tb(35,0,null,0,2,\"ion-label\",[],null,null,null,h.eb,h.u)),u.sb(36,49152,null,0,s.N,[u.h,u.k,u.z],null,null),(l()(),u.Mb(-1,0,[\"Finalizadas\"])),(l()(),u.tb(38,0,null,null,12,\"ion-content\",[],null,null,null,h.T,h.j)),u.sb(39,49152,null,0,s.u,[u.h,u.k,u.z],null,null),(l()(),u.tb(40,0,null,0,10,\"ion-grid\",[],null,null,null,h.V,h.l)),u.sb(41,49152,null,0,s.A,[u.h,u.k,u.z],null,null),(l()(),u.tb(42,0,null,0,8,\"ion-row\",[],null,null,null,h.mb,h.C)),u.sb(43,49152,null,0,s.jb,[u.h,u.k,u.z],null,null),(l()(),u.tb(44,0,null,0,6,\"ion-col\",[],null,null,null,h.S,h.i)),u.sb(45,49152,null,0,s.t,[u.h,u.k,u.z],null,null),(l()(),u.tb(46,0,null,0,4,\"ion-list\",[],null,null,null,h.gb,h.v)),u.sb(47,49152,[[1,4],[\"ListaCompras\",4]],0,s.O,[u.h,u.k,u.z],null,null),(l()(),u.ib(16777216,null,0,2,null,g)),u.sb(49,278528,null,0,d.i,[u.O,u.L,u.s],{ngForOf:[0,\"ngForOf\"]},null),u.Ib(50,4)],function(l,n){var t=n.component;l(n,7,0,\"cruz-primary\"),l(n,18,0,\"cruz-primary\"),l(n,24,0,\"pedidos\"),l(n,29,0,\"en_proceso\"),l(n,34,0,\"finalizados\");var o=u.Nb(n,49,0,l(n,50,0,u.Fb(n,0),t.items,t.textoBuscar,\"estado\",\"cod\"));l(n,49,0,o)},null)}function C(l){return u.Ob(0,[(l()(),u.tb(0,0,null,null,1,\"app-miscompras\",[],null,null,null,v,z)),u.sb(1,114688,null,0,b,[r,s.Ib,s.a,k.m,s.Kb],null,null)],function(l,n){l(n,1,0)},null)}var _=u.pb(\"app-miscompras\",b,C,{},{},[]),y=u.rb({encapsulation:0,styles:[[\".hola[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}\"]],data:{}});function x(l){return u.Ob(0,[(l()(),u.tb(0,0,null,null,13,\"ion-item\",[],null,null,null,h.db,h.q)),u.sb(1,49152,null,0,s.H,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,2,\"ion-col\",[[\"class\",\"ion-text-lowercase\"],[\"size\",\"8\"]],null,null,null,h.S,h.i)),u.sb(3,49152,null,0,s.t,[u.h,u.k,u.z],{size:[0,\"size\"]},null),(l()(),u.Mb(4,0,[\" \",\"\"])),(l()(),u.tb(5,0,null,0,2,\"ion-col\",[[\"size\",\"1\"]],null,null,null,h.S,h.i)),u.sb(6,49152,null,0,s.t,[u.h,u.k,u.z],{size:[0,\"size\"]},null),(l()(),u.Mb(7,0,[\" \",\"\"])),(l()(),u.tb(8,0,null,0,5,\"ion-col\",[[\"size\",\"3\"]],null,null,null,h.S,h.i)),u.sb(9,49152,null,0,s.t,[u.h,u.k,u.z],{size:[0,\"size\"]},null),(l()(),u.tb(10,0,null,0,3,\"ion-text\",[[\"color\",\"cruz-tertiary\"]],null,null,null,h.rb,h.H)),u.sb(11,49152,null,0,s.xb,[u.h,u.k,u.z],{color:[0,\"color\"]},null),(l()(),u.Mb(12,0,[\" \",\" \"])),u.Ib(13,4)],function(l,n){l(n,3,0,\"8\"),l(n,6,0,\"1\"),l(n,9,0,\"3\"),l(n,11,0,\"cruz-tertiary\")},function(l,n){l(n,4,0,n.context.$implicit.producto.descripcion),l(n,7,0,n.context.$implicit.cantidad);var t=u.Nb(n,12,0,l(n,13,0,u.Fb(n.parent,0),n.context.$implicit.subtotal,\"USD\",\"symbol\",\"2.2-2\"));l(n,12,0,t)})}function O(l){return u.Ob(0,[(l()(),u.tb(0,0,null,null,6,\"ion-footer\",[[\"no-border\",\"\"]],null,null,null,h.U,h.k)),u.sb(1,49152,null,0,s.z,[u.h,u.k,u.z],null,null),(l()(),u.tb(2,0,null,0,4,\"ion-toolbar\",[],null,null,null,h.tb,h.J)),u.sb(3,49152,null,0,s.Cb,[u.h,u.k,u.z],null,null),(l()(),u.tb(4,0,null,0,2,\"ion-button\",[[\"color\",\"cruz-primary\"],[\"expand\",\"full\"]],null,[[null,\"click\"]],function(l,n,t){var u=!0,o=l.component;return\"click\"===n&&(u=!1!==o.generarFactura(o.item)&&u),u},h.N,h.d)),u.sb(5,49152,null,0,s.k,[u.h,u.k,u.z],{color:[0,\"color\"],expand:[1,\"expand\"]},null),(l()(),u.Mb(-1,0,[\"Finalizar\"]))],function(l,n){l(n,5,0,\"cruz-primary\",\"full\")},null)}function I(l){return u.Ob(0,[u.Hb(0,d.c,[u.u]),(l()(),u.tb(1,0,null,null,12,\"ion-header\",[[\"no-border\",\"\"]],null,null,null,h.W,h.m)),u.sb(2,49152,null,0,s.B,[u.h,u.k,u.z],null,null),(l()(),u.tb(3,0,null,0,10,\"ion-toolbar\",[],null,null,null,h.tb,h.J)),u.sb(4,49152,null,0,s.Cb,[u.h,u.k,u.z],null,null),(l()(),u.tb(5,0,null,0,2,\"ion-title\",[],null,null,null,h.sb,h.I)),u.sb(6,49152,null,0,s.Ab,[u.h,u.k,u.z],null,null),(l()(),u.Mb(-1,0,[\"Detalle de la Compra\"])),(l()(),u.tb(8,0,null,0,5,\"ion-buttons\",[[\"slot\",\"end\"]],null,null,null,h.O,h.e)),u.sb(9,49152,null,0,s.l,[u.h,u.k,u.z],null,null),(l()(),u.tb(10,0,null,0,3,\"ion-button\",[],null,[[null,\"click\"]],function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==l.component.salir()&&u),u},h.N,h.d)),u.sb(11,49152,null,0,s.k,[u.h,u.k,u.z],null,null),(l()(),u.tb(12,0,null,0,1,\"ion-icon\",[[\"name\",\"close\"],[\"slot\",\"icon-only\"]],null,null,null,h.X,h.n)),u.sb(13,49152,null,0,s.C,[u.h,u.k,u.z],{name:[0,\"name\"]},null),(l()(),u.tb(14,0,null,null,11,\"ion-content\",[],null,null,null,h.T,h.j)),u.sb(15,49152,null,0,s.u,[u.h,u.k,u.z],null,null),(l()(),u.tb(16,0,null,0,9,\"ion-grid\",[[\"fixed\",\"\"]],null,null,null,h.V,h.l)),u.sb(17,49152,null,0,s.A,[u.h,u.k,u.z],{fixed:[0,\"fixed\"]},null),(l()(),u.tb(18,0,null,0,7,\"ion-row\",[],null,null,null,h.mb,h.C)),u.sb(19,49152,null,0,s.jb,[u.h,u.k,u.z],null,null),(l()(),u.tb(20,0,null,0,5,\"ion-col\",[],null,null,null,h.S,h.i)),u.sb(21,49152,null,0,s.t,[u.h,u.k,u.z],null,null),(l()(),u.tb(22,0,null,0,3,\"ion-list\",[],null,null,null,h.gb,h.v)),u.sb(23,49152,null,0,s.O,[u.h,u.k,u.z],null,null),(l()(),u.ib(16777216,null,0,1,null,x)),u.sb(25,278528,null,0,d.i,[u.O,u.L,u.s],{ngForOf:[0,\"ngForOf\"]},null),(l()(),u.ib(16777216,null,null,1,null,O)),u.sb(27,16384,null,0,d.j,[u.O,u.L],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=n.component;l(n,13,0,\"close\"),l(n,17,0,\"\"),l(n,25,0,t.item.detalle),l(n,27,0,\"002\"===t.item.estado.cod)},null)}function D(l){return u.Ob(0,[(l()(),u.tb(0,0,null,null,1,\"app-miscompras-item-modal\",[],null,null,null,I,y)),u.sb(1,114688,null,0,a,[s.Ib,r,s.a],null,null)],function(l,n){l(n,1,0)},null)}var S=u.pb(\"app-miscompras-item-modal\",a,D,{item:\"item\"},{},[]),w=function(){return function(){}}(),M=t(\"iTUp\");t.d(n,\"MiscomprasPageModuleNgFactory\",function(){return F});var F=u.qb(c,[],function(l){return u.Cb([u.Db(512,u.j,u.bb,[[8,[m.a,_,S]],[3,u.j],u.x]),u.Db(4608,d.l,d.k,[u.u,[2,d.r]]),u.Db(4608,f.t,f.t,[]),u.Db(4608,s.b,s.b,[u.z,u.g]),u.Db(4608,s.Ib,s.Ib,[s.b,u.j,u.q]),u.Db(4608,s.Lb,s.Lb,[s.b,u.j,u.q]),u.Db(1073742336,d.b,d.b,[]),u.Db(1073742336,f.s,f.s,[]),u.Db(1073742336,f.g,f.g,[]),u.Db(1073742336,s.Eb,s.Eb,[]),u.Db(1073742336,k.q,k.q,[[2,k.v],[2,k.m]]),u.Db(1073742336,w,w,[]),u.Db(1073742336,M.a,M.a,[]),u.Db(1073742336,c,c,[]),u.Db(1024,k.k,function(){return[[{path:\"\",component:b}]]},[])])})}}]);","extractedComments":[]}